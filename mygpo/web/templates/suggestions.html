{% extends "base.html" %}
{% load i18n %}
{% load podcasts %}

{% load menu %}
{% block mainmenu %}{{ "/suggestions/"|main_menu }}{% endblock %}
{% block sectionmenu %}{{ "/suggestions/"|section_menu }}{% endblock %}

{% block title %}{% trans "Suggested Podcasts" %}{% endblock %}

{% block content %}

  <h1>{% trans "Suggested Podcasts" %}</h1>

  <table class="list podcast_list">
  {% for podcast in entries %}
   <tr>
    <td class="logo">{{ podcast|podcast_logo }}</td>
    <td>
     <p class="title">{% podcast_group_link podcast %}</p>
     <p class="description">{{ podcast.description|striptags|truncatewords:"12" }}</p>
    </td>
    <td>
      <a class="btn btn-success icon-ok" href="{% podcast_link_target podcast "subscribe" %}">
       {% trans "Subscribe" %}
      </a>
    </td>
    <td>
     <form action="{% url suggestions-blacklist podcast.oldid %}">
      {% csrf_token %}
      <button class="btn btn-danger icon-ban-circle" type="submit">
       {% trans "Not Interested" %}
      </button>
     </form>
    </td>
   </tr>
  {% empty %}
   <tr>
    <td colspan="3">
     {% trans "No Suggestions Yet" %}
    </td>
   </tr>
  {% endfor %}
  </table>

 {% if entries %}
  <div class="rate">
   <strong>{% trans "Do you like our suggestions?" %}</strong>
   <form class="form-inline" action="{% url suggestions-rate %}?rate=1" method="post" class="rate">
    {% csrf_token %}
    <button class="btn btn-success icon-thumbs-up" type="submit"> {% trans "Yes" %}</button>
   </form>
   <form class="form-inline" action="{% url suggestions-rate %}?rate=-1" method="post" class="rate">
    {% csrf_token %}
    <button class="btn btn-danger icon-thumbs-down" type="submit"> {% trans "No" %}</button>
   </form>
  </div>
 {% endif %}

 <a class="btn" href="{% url suggestions-opml 15 "opml" %}">
  <img src="/media/24x24/opml-icon.png">
   {% trans "Download OPML" %}
 </a>
{% endblock %}


{% block javascript %}

    <script language="javascript">
        <!--
        function submitForm(formid)
        {
            document.forms[formid].submit();
            return true;
        }
        -->
    </script>

{% endblock %}

{% extends "base.html" %}
{% load i18n %}
{% load humanize %}
{% load episodes %}
{% load podcasts %}
{% load charts %}

{% block title %}{{ podcast.title|default:"Unnamed Podcast"|striptags }}{% endblock %}

{% block content %}
  <div id="podcastlogo">{{ podcast|podcast_logo:"200" }}</div>

  <h1>{% if podcast.title %}{{ podcast.title|striptags }}{% else %}{% trans "Unnamed Podcast" %}{%endif%}</h1>

  {% if not episodes|length_is:"0" %}

   <h2>{% trans "Episodes" %}</h2>
   <table class="list">
    <tr>
     <th>{% trans "Title" %}</th>
     <th>{% trans "Released" %}</th>
     <th>{% trans "Listeners" %}</th>
    </tr>
 
    {% for episode in episodes %}
     <tr>
      <td><a href="/publisher/episode/{{ episode.id }}">{{ episode.title|default:"Unknown Episode"|striptags }}</a></td>
      <td>{{ episode.timestamp|default:""|naturalday }}</td>
      <td>
       {% if episode.listeners %}
        {{ episode.listeners|vertical_bar:max_listeners }}
       {% endif %}
      </td>
     </tr>
    {% endfor %}
   </table>
  {% endif %}

 {% endblock %}

